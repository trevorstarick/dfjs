!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){"use strict";window.Settings={};var b=a("./core/game.js");Settings={tick:200,size:Math.ceil(window.innerWidth/80),maxSize:8,width:80,height:45},Settings.updateSize=function(){Settings.size=Math.ceil(window.innerWidth/80),b.canvas.width=Settings.size*Settings.width,b.canvas.height=Settings.size*Settings.height,console.log("Size updated...",Settings.size)},console.log("%c%c background: #222; color: #bada55","background: #222; color: #bada55"),b.start()},{"./core/game.js":4}],2:[function(){},{}],3:[function(a,b){"use strict";var c={};c.createNew=function(a,b,c){var d=Object.keys(Game.entityMap).length,e=b[0],f=b[1];return-1===Game.map[e][f]?(a.coordinates=[e,f],Game.entityMap[d]=a,Game.map[e][f]=d,c(!0)):c(!1)},c.MoveLeft=function(a){this.MoveEntity(-1,0,a)},c.MoveUp=function(a){this.MoveEntity(0,-1,a)},c.MoveRight=function(a){this.MoveEntity(1,0,a)},c.MoveDown=function(a){this.MoveEntity(0,1,a)},c.MoveEntity=function(a,b,c){if(Game._interval&&!Game.paused){var d=Game.entityMap[c],e=d.coordinates;Game.map[e[0]][e[1]]=-1;var f=Game.map[e[0]+a][e[1]+b];console.log(f,Game.entityMap[f]),console.log(e),0<=e[0]+a&&0<=e[1]+b&&(-1===f||"block"!==Game.entityMap[f].type)&&(f=c,d.coordinates=[e[0]+a,e[1]+b])}},b.exports=c},{}],4:[function(a,b){function c(a,b){return Math.floor(Math.random()*(b-a+1))+a}window.Game={};{var d=a("./map.js"),e=a("./entities.js");a("./ai.js"),a("./physics.js")}Game={map:[],entityMap:{},version:1};var f=!1;Game.init=function(){Settings.size>Settings.maxSize&&(Settings.size=Settings.maxSize),Game.canvas=document.getElementById("canvas"),Game.canvas.width=Settings.size*Settings.width,Game.canvas.height=Settings.size*Settings.height,Game.ctx=canvas.getContext("2d"),d.init(),Game.spawn("player"),Game.populate("liquid",{},10),Game.populate("beast",{},7),Game.populate("npc",{},15),Game.populate("block",{},100),f||($(document).keydown(function(a){switch(a.keyCode){case 37:e.MoveLeft(0);break;case 38:e.MoveUp(0);break;case 39:e.MoveRight(0);break;case 40:e.MoveDown(0)}}),f=!0)},Game.populate=function(a,b,d){function f(a){a&&(g+=1)}for(var g=0;d>g;){var h=c(0,79),i=c(0,44);e.createNew({type:a,data:b},[h,i],f)}},Game.spawn=function(a,b){function d(a){a&&(f+=1)}b=b||{};for(var f=0;1>f;){var g=c(0,79),h=c(0,44);e.createNew({type:a,data:b},[g,h],d)}},Game.update=function(){window.stats.update()},Game.draw=function(){var a=Object.keys(Game.entityMap).length,b=Settings.size;Game.canvas.width=Game.canvas.width;for(var c=0;a>c;c++){var d=Game.entityMap[c],e=d.coordinates[0],f=d.coordinates[1],g=d.type;switch(g){case"player":Game.ctx.fillStyle="rgba(255,255, 255, 1)";break;case"npc":Game.ctx.fillStyle="rgba(0, 255, 0, 1)";break;case"beast":Game.ctx.fillStyle="rgba(255, 0, 0, 1)";break;case"liquid":Game.ctx.fillStyle="rgba(0, 0, 255, 1)";break;default:Game.ctx.fillStyle="rgba(128, 128, 128, 1)"}Game.ctx.fillRect(e*b,f*b,1*b,1*b)}},Game.run=function(){Game.map.length?(Game.update(),Game.draw()):(Game.init(),console.log("Game initialized..."))},Game.pause=function(){paused=!0,clearInterval(Game._interval)},Game.start=function(){paused=!1,Game._interval&&clearInterval(Game._interval),Game._interval=setInterval(Game.run,1e3/Settings.tick)},Game.clearScreen=function(){Game.canvas.width=Game.canvas.width,clearInterval(Game._interval),Game.map=[],Game.entityMap={}},Game.reset=function(){Game.canvas.width=Game.canvas.width,Game.map=[],Game.entityMap={},Game.start()},b.exports=Game},{"./ai.js":2,"./entities.js":3,"./map.js":5,"./physics.js":6}],5:[function(a,b){var c=function(){this.initialized=!1};c.prototype={init:function(){for(var a=0;79>=a;a++){for(var b=[],c=0;44>=c;c++)b.push(-1);Game.map.push(b)}this.initialized=!0,console.log("Map initialized...")},foobar:function(a){var b=a.substring(0,16);return b}},b.exports=new c},{}],6:[function(a,b){b.exports=a(2)},{}]},{},[1]);